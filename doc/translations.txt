##      Instructions for helping translate text for Vidalia, TorButton and TorCheck
##  ( More translation information for Tor related apps will accumulate here )

Our translations are handled in one of two places. The Tor Translation Portal
handles all of the translations for Vidalia, Torbutton and TorCheck. The Tor
website itself is currently handled by hand translations using subversion.

You'll need a Tor SVN account.
If you do not have one and you need one, please run this command with your
desired username in place of 'USERNAME':

    htdigest -c passwd.tmp "Tor subversion repository" USERNAME


All three of the above projects check in their respective .po files into the following subversion urls:

    https://tor-svn.freehaven.net/svn/translation/trunk/projects/torbutton
    https://tor-svn.freehaven.net/svn/translation/trunk/projects/torcheck
    https://svn.vidalia-project.net/svn/vidalia/trunk/src/vidalia/i18n/

The current pootle configuration is checked into subversion as well:

    https://tor-svn.freehaven.net/svn/translation/trunk/pootle
    
TorCheck uses our translation portal to accept translations. Users use the portal to check in their changes.
To make use of the translations that users have commited to the translations/
subversion module, you'll need to ensure that you have a current checked out
copy of TorCheck:
    
    cd check/trunk/i18n/
    check/trunk/i18n$ svn up

You should see something like the following:

    Fetching external item into 'pootle'
    External at revision 15300.

    At revision 15300.
 
Now if you had changes, you'd simply want to move the newly updated .po files
into the current stable directory.  Moving the .po files from
'check/trunk/i18n/pootle/' into 'check/trunk/i18n' properly naming the files
for their respective locale.

Here's an example of how to move all of the current pootle translations into
the svn trunk area of TorCheck:

    cd check/trunk/i18n/
    for locale in `ls -1 pootle/|grep -v template`;
    do 
    mv -v pootle/$locale/TorCheck_$locale.po TorCheck_$locale.po;
    done

Now check the differences (ensure the output looks reasonable):
    
    svn diff

Ensure that msgfmt has no errors:

    msgfmt -C *.po

And finally check in the changes:

    svn commit

Torbutton uses our translation portal to accept translations. Users use the portal to check in their changes.
To make use of the translations that users have commited to the translations/
subversion module, you'll need to ensure that you have a current checked out
copy of Torbutton:
    
    cd torbutton/trans_tools 
    torbutton/trans_tools$ svn up

You should see something like the following:

    Fetching external item into 'pootle'
    External at revision 15300.

    At revision 15300.
 
Now if you had changes, you need to convert from .po and move the newly updated mozilla files
into the current stable locale directory. First convert them with the
'mkmoz.sh' script and then moving the proper mozilla files from
'torbutton/trans_tools/moz/' into 'torbutton/src/chrome/locale/' directory
while properly naming the files for their respective locale.

Here's an example of how to move all of the current pootle translations into
the svn trunk area of Torbutton:

    cd torbutton/trans_tools 
    ./mkmoz.sh
    for locale in `ls -1 moz/`;
    do 
    mv -v moz/$locale/*.{rdf,dtd,properties} ../src/chrome/locale/$locale/;
    done

Now check the differences (ensure the output looks reasonable):
    
    svn diff

And finally check in the changes:

    svn commit

Vidalia uses our translation portal to accept translations. Users use the
portal to check in their changes. No conversion or moving is required other
than normal pootle usage.

